研发中台事业部/AI公共研发部/AI算力平台
### 1.什么是私有化交付
私有化交付可以理解为：把公司开发的软件（比如文档里提到的大模型、小模型和推理服务）打包成一个“独立包裹”，然后完整地部署到客户自己的服务器或私有云环境中，而不是放在公司的公共云端。这样客户的数据和服务都在自己的“地盘”里运行，更安全可控

### 2.训练任务的主要目标是什么
训练任务的主要目标是验证打包好的代码及模型在客户实际部署环境中的可用性，而不仅仅是验证安全性。

根据文档描述，训练任务会将打包好的代码和模型下载到KAS平台进行验证，核心是确保代码和模型能适配客户指定的部署架构（如x86_nvidia或arm_910b）并正常运行。例如，不同架构的服务器硬件（如CPU型号、是否带NVIDIA显卡）可能需要不同的代码适配，训练任务就是提前在类似环境中测试这些“适配性”，避免部署到客户环境后出现无法启动、功能异常等问题。

### 3.那为什么要用ai的训练任务，直接编写一个脚本执行不是更方便吗
文档提到训练任务需根据部署架构（如x86_nvidia、arm_910b）选择，这些架构对应不同的硬件环境（如是否带NVIDIA显卡、CPU指令集差异）。AI训练任务通常内置了对不同架构的适配逻辑，例如自动调用对应硬件的驱动（如CUDA）、优化模型推理的底层库（如TensorRT），而简单脚本难以覆盖这些硬件细节。

举例：若客户使用arm架构服务器，脚本可能因缺乏底层指令集适配直接报错，而训练任务可通过预设的架构模板自动调整编译参数，确保模型在目标硬件上跑通。

镜像仓库，私有化仓库

### 构建镜像时遇到的问题
原先再dockerfile中RUN pip3 config set global.index-url https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple/ \
    && pip3 install  --no-cache-dir -r requirements.txt  -i https://mirrors.wps.cn/pypi/simple --extra-index-url https://mirrors.wps.cn/pypi/dev
    requirements中的pdfcvcommon依赖只在公司镜像源中有，但是公司镜像源又无法连接，先把pdfcv pip download到本地再提交到远程仓库release-privat分支，因为Kas工作流镜像构建用的是远程仓库的代码
```
FROM hub.kce.ksyun.com/ai-kas/arm64/openeuler/openeuler_crt_python:20250710-033833

RUN dnf update -y && \
    dnf install -y gcc python3-devel make gcc-c++ && \
    dnf clean all

COPY base_dockerfile/requirements.txt requirements.txt
RUN pip3 install --no-cache-dir -r requirements.txt -i https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple

COPY package/ /tmp/package/
RUN pip3 install --no-cache-dir --find-links /tmp/package /tmp/package/pdfcvcommonlib-1.2.2-py3-none-any.whl && rm -rf /tmp/package
```
这样在构建镜像时，不在通过网络请求获取这些依赖包，用--find-links指定在/tmp/package中找，否则他会重新download导致出现问题

