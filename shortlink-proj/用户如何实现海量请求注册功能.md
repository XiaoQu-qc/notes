### 1.海量请求下如何解决用户名重复的验证请求问题
#### （1）一开始使用mysql但是mysqlqps太低，承受不了压力过大
#### （2）使用redis把所有的用户名都缓存在内存中
内存占用较多，
要考虑是否使用数据过期，如果使用，也无法处理请求过大的问题。如果不过期，内存占用太大
#### （3）使用布隆过滤器
内存占用非常低，但是会有误判的概率
项目中使用的是布隆过滤器，他是存在redis中的，由于redis使用主从复制，比如张三在注册的时候，主redis存了，也存到数据库了，此时主redis挂了（虽然概率比较低），从redis没有同步，另外一个用户此时也用张三这个用户名注册，
项目的逻辑是用布隆过滤器判断，那么会判定用户名没有重复，插入数据库，所以数据库要有兜底机制，给username设置unique索引
### 2.register方法中加锁
解决用户短时间大量相同用户名注册时，由于并发量较大，可能有较多请求都通过了hasUsername校验，此时会有大量请求给到mysql
